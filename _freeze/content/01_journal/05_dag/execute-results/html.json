{
  "hash": "5c9268224ee05b42c60f115319bc4a74",
  "result": {
    "markdown": "---\ntitle: \"Directed Acyclic Graphs\"\n---\n\n\n# \\\n\n::: {.cell hash='05_dag_cache/html/unnamed-chunk-1_7dd7d5c05c8f89523607961ab5be63d7'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(dagitty)\nlibrary(ggdag)\n\nschooling_2 <- dagify(\n  parking ~ location,\n  sales ~ location,\n  sales ~ parking,\n  coords = list(x = c(parking = 1, sales = 3, location = 2),\n                y = c(parking = 1, sales = 1, location = 2))\n)\n\nggdag(schooling_2, text = F) +\n  theme_dag_cds() + # custom theme, can be left out\n  geom_dag_point(color = ggthemr::swatch()[2]) +\n  geom_dag_text(color = NA) +\n  geom_dag_edges(edge_color = \"white\") +\n  geom_dag_label_repel(aes(label = name))\n```\n:::\n\n\n# \\ \n\n::: {.cell hash='05_dag_cache/html/unnamed-chunk-2_b2daf31581a15f8f3aa972deee457483'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\ncustomer_sat <- readRDS('~/College/TUHH/causual_data_science/data/customer_sat.rds')\nlm_sat_fol <- lm(satisfaction ~ follow_ups, customer_sat)\nsummary(lm_sat_fol)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n#> Call:\n#> lm(formula = satisfaction ~ follow_ups, data = customer_sat)\n#> \n#> Residuals:\n#>     Min      1Q  Median      3Q     Max \n#> -12.412  -5.257   1.733   4.506  12.588 \n#> \n#> Coefficients:\n#>             Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)  78.8860     4.2717  18.467 1.04e-10 ***\n#> follow_ups   -3.3093     0.6618  -5.001 0.000243 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 7.923 on 13 degrees of freedom\n#> Multiple R-squared:  0.658,\tAdjusted R-squared:  0.6316 \n#> F-statistic: 25.01 on 1 and 13 DF,  p-value: 0.0002427\n```\n:::\n:::\n\n::: {.cell hash='05_dag_cache/html/unnamed-chunk-3_8ed651601e16ae5591305b07d25a11b0'}\n\n```{.r .cell-code}\nlm_sat_fol_sub <- lm(satisfaction ~ . , customer_sat)\nsummary(lm_sat_fol_sub)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n#> Call:\n#> lm(formula = satisfaction ~ ., data = customer_sat)\n#> \n#> Residuals:\n#>     Min      1Q  Median      3Q     Max \n#> -4.3222 -2.1972  0.3167  2.2667  3.9944 \n#> \n#> Coefficients:\n#>                      Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)           26.7667     6.6804   4.007  0.00206 ** \n#> follow_ups             2.1944     0.7795   2.815  0.01682 *  \n#> subscriptionPremium   44.7222     5.6213   7.956 6.88e-06 ***\n#> subscriptionPremium+  18.0722     2.1659   8.344 4.37e-06 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 2.958 on 11 degrees of freedom\n#> Multiple R-squared:  0.9597,\tAdjusted R-squared:  0.9487 \n#> F-statistic: 87.21 on 3 and 11 DF,  p-value: 5.956e-08\n```\n:::\n:::\n\n\n# \\\nThe coefficient for the regression of satisfaction on follow_ups is negative, yet the coefficients of satisfaction on follow_ups when considering subscription type are all positive. This illustrates that without considering subscription type, one could incorrectly assume that more follow ups indicate less satisfaction. However when one considers subscription type as well, it becomes clearer that the different groupings of satisfaction seem to be influenced more by subscription type than follow ups. Within these groupings more follow ups actually does improve user satisfaction. \n\n# \\\n\n::: {.cell hash='05_dag_cache/html/unnamed-chunk-4_021619767c27c9302b6456944219165d'}\n\n```{.r .cell-code}\nsatisfy_followup <- ggplot(customer_sat, aes(x = follow_ups, y = satisfaction)) +\n  geom_point(alpha = .8) +\n  stat_smooth(method = \"lm\", se = F)\nsatisfy_followup\n```\n\n::: {.cell-output-display}\n![](05_dag_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nsatisfy_followup_cond <- ggplot(customer_sat, aes(x = follow_ups, y = satisfaction, color = subscription)) +\n  geom_point(alpha = .8) +\n  stat_smooth(method = \"lm\", se = F) +\n  theme(legend.position = \"right\")\nsatisfy_followup_cond\n```\n\n::: {.cell-output-display}\n![](05_dag_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}