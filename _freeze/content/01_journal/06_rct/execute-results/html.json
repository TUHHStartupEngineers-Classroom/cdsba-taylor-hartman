{
  "hash": "4c5b8f9dbf11b8478b0b342c0daa16ae",
  "result": {
    "markdown": "---\ntitle: \"Randomized Controlled Trials\"\n---\n\n::: {.cell hash='06_rct_cache/html/unnamed-chunk-1_27a42eae949136d67605dab5961ae3d6'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nabtest <- readRDS('~/College/TUHH/causual_data_science/data/abtest_online.rds')\n```\n:::\n\n\n# \\ \n\n::: {.cell hash='06_rct_cache/html/unnamed-chunk-2_c0981c3a36731fd7d788d29fbecd2498'}\n\n```{.r .cell-code}\nprev_visit <- \n  ggplot(abtest, \n         aes(x = chatbot, \n             y = previous_visit, \n             color = as.factor(chatbot))) +\n  stat_summary(geom = \"errorbar\", \n               width = .5,\n               fun.data = \"mean_se\", \n               fun.args = list(mult=1.96),\n               show.legend = F) +\n  labs(x = NULL, y = \"Previous Visits\", title = \"Difference in Previous Visits\")\n\npurchase_amt <- \n  ggplot(abtest, \n         aes(x = chatbot, \n             y = purchase_amount, \n             color = as.factor(chatbot))) +\n  stat_summary(geom = \"errorbar\", \n               width = .5,\n               fun.data = \"mean_se\", \n               fun.args = list(mult=1.96),\n               show.legend = F) +\n  labs(x = NULL, y = \"Outcome\", title = \"Difference in outcome\")\n\npurchase <- \n  ggplot(abtest, \n         aes(x = chatbot, \n             y = purchase, \n             color = as.factor(chatbot))) +\n  stat_summary(geom = \"errorbar\", \n               width = .5,\n               fun.data = \"mean_se\", \n               fun.args = list(mult=1.96),\n               show.legend = F) +\n  labs(x = NULL, y = \"Outcome\", title = \"Difference in outcome\")\n\nprev_visit\n```\n\n::: {.cell-output-display}\n![](06_rct_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\npurchase_amt\n```\n\n::: {.cell-output-display}\n![](06_rct_files/figure-html/unnamed-chunk-2-2.png){width=672}\n:::\n\n```{.r .cell-code}\npurchase\n```\n\n::: {.cell-output-display}\n![](06_rct_files/figure-html/unnamed-chunk-2-3.png){width=672}\n:::\n:::\n\n\n\n# \\\n\n::: {.cell hash='06_rct_cache/html/unnamed-chunk-3_f740ef481223120ffc2533de56f34b6d'}\n\n```{.r .cell-code}\nlm_amt <- lm(purchase_amount ~ chatbot, abtest)\nsummary(lm_amt)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n#> Call:\n#> lm(formula = purchase_amount ~ chatbot, data = abtest)\n#> \n#> Residuals:\n#>     Min      1Q  Median      3Q     Max \n#> -16.702 -14.478  -9.626  13.922  64.648 \n#> \n#> Coefficients:\n#>             Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)  16.7017     0.8374  19.944  < 2e-16 ***\n#> chatbotTRUE  -7.0756     1.1796  -5.998 2.79e-09 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 18.65 on 998 degrees of freedom\n#> Multiple R-squared:  0.0348,\tAdjusted R-squared:  0.03383 \n#> F-statistic: 35.98 on 1 and 998 DF,  p-value: 2.787e-09\n```\n:::\n:::\n\n\nThere appears to be a negative correlation between chatbot and sales.\n\n# \\\n\n::: {.cell hash='06_rct_cache/html/unnamed-chunk-4_fa62e08a9c14fd569319c9c8f131217b'}\n\n```{.r .cell-code}\nlm_cate <- lm(purchase_amount ~ chatbot * previous_visit + chatbot * mobile_device, abtest)\nsummary(lm_cate)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n#> Call:\n#> lm(formula = purchase_amount ~ chatbot * previous_visit + chatbot * \n#>     mobile_device, data = abtest)\n#> \n#> Residuals:\n#>     Min      1Q  Median      3Q     Max \n#> -22.057 -15.928  -7.419  12.804  65.333 \n#> \n#> Coefficients:\n#>                               Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)                    17.2052     1.2982  13.253  < 2e-16 ***\n#> chatbotTRUE                   -11.1064     1.8434  -6.025 2.38e-09 ***\n#> previous_visit                 -0.1030     0.3749  -0.275 0.783562    \n#> mobile_deviceTRUE              -0.8791     1.7823  -0.493 0.621943    \n#> chatbotTRUE:previous_visit      2.0978     0.5781   3.629 0.000299 ***\n#> chatbotTRUE:mobile_deviceTRUE   0.2044     2.5148   0.081 0.935229    \n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 18.49 on 994 degrees of freedom\n#> Multiple R-squared:  0.05495,\tAdjusted R-squared:  0.0502 \n#> F-statistic: 11.56 on 5 and 994 DF,  p-value: 7.177e-11\n```\n:::\n:::\n\n\n# \\\n\n::: {.cell hash='06_rct_cache/html/unnamed-chunk-5_74126b63c6d75af61407238a10ddcd6f'}\n\n```{.r .cell-code}\nlm_boolean <- lm(purchase ~ chatbot * previous_visit + chatbot * mobile_device, abtest)\nsummary(lm_boolean)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n#> Call:\n#> lm(formula = purchase ~ chatbot * previous_visit + chatbot * \n#>     mobile_device, data = abtest)\n#> \n#> Residuals:\n#>     Min      1Q  Median      3Q     Max \n#> -0.6618 -0.4708 -0.2035  0.4992  0.8601 \n#> \n#> Coefficients:\n#>                                 Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)                    0.5096692  0.0326912  15.590  < 2e-16 ***\n#> chatbotTRUE                   -0.3572109  0.0464210  -7.695 3.40e-14 ***\n#> previous_visit                -0.0044165  0.0094401  -0.468    0.640    \n#> mobile_deviceTRUE             -0.0129354  0.0448818  -0.288    0.773    \n#> chatbotTRUE:previous_visit     0.0680830  0.0145576   4.677 3.32e-06 ***\n#> chatbotTRUE:mobile_deviceTRUE  0.0003328  0.0633288   0.005    0.996    \n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 0.4657 on 994 degrees of freedom\n#> Multiple R-squared:  0.08604,\tAdjusted R-squared:  0.08144 \n#> F-statistic: 18.71 on 5 and 994 DF,  p-value: < 2.2e-16\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}